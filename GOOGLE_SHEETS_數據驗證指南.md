# 📊 Google Sheets 數據驗證指南

## 🎯 您的 Google Sheets 鏈接
https://docs.google.com/spreadsheets/d/1fbm94LVNKklFYLQlS3PrYkXaf9W8hbTVgaS5iDeyYr8/edit?gid=25775957#gid=25775957

## 📋 預期的數據格式

### 列標題 (Headers)
您的Google Sheets應該有以下8個列：
```
| Date | Time | Food Name | Category | Medical Score | Notes | User ID | Timestamp |
```

### 數據示例
如果同步成功，新添加的食物記錄應該顯示為：
```
| 2025-09-19 | 14:30 | 蘋果 | 水果 | 5 | [備註] | demo-user | 2025-09-19T06:30:00.000Z |
```

## 🔍 檢查步驟

### 第一步：檢查工作表結構
1. **工作表名稱**: 應該是 "Food Diary" 或類似名稱
2. **列標題**: 檢查是否有上述8個列標題
3. **數據區域**: 標題下方是否有實際的食物記錄數據

### 第二步：檢查最新記錄
1. **查看最後幾行**: 滾動到工作表底部
2. **日期檢查**: 最新記錄的日期是否是今天 (2025-09-19)
3. **時間戳**: Timestamp列是否有最新的ISO格式時間

### 第三步：數據格式驗證
檢查每一列的數據格式是否正確：

#### Date 列
- 格式：`YYYY-MM-DD`
- 示例：`2025-09-19`

#### Time 列
- 格式：`HH:MM`
- 示例：`14:30`

#### Food Name 列
- 格式：中文食物名稱
- 示例：`蘋果`, `白米飯`, `雞胸肉`

#### Category 列
- 格式：食物分類
- 示例：`水果`, `穀物`, `蛋白質`

#### Medical Score 列
- 格式：數字 (1-10)
- 示例：`5`, `7`, `8`

#### Notes 列
- 格式：文字備註或空白
- 示例：`早餐時食用`, `` (空白)

#### User ID 列
- 格式：通常是 `demo-user` 或實際用戶ID
- 示例：`demo-user`

#### Timestamp 列
- 格式：ISO 8601格式
- 示例：`2025-09-19T06:30:00.000Z`

## ✅ 驗證檢查清單

請檢查以下項目並告訴我結果：

### 基本結構
- [ ] 工作表是否存在？
- [ ] 是否有正確的8個列標題？
- [ ] 標題是否為英文 (Date, Time, Food Name 等)？

### 數據內容
- [ ] 是否有食物記錄數據？
- [ ] 最新記錄的日期是什麼？
- [ ] 有多少行食物記錄？
- [ ] 食物名稱是否正確顯示（不是 `[object Object]`）？

### 最新同步驗證
如果您剛剛進行了食物添加測試：
- [ ] 是否有今天日期 (2025-09-19) 的新記錄？
- [ ] 食物名稱是否正確（如：蘋果）？
- [ ] Medical Score 是否有數值？
- [ ] Timestamp 是否是最近的時間？

## 🔍 常見問題診斷

### 如果沒有看到任何數據
**可能原因**:
1. 醫療數據服務未初始化（我們已修復）
2. 認證過期需要重新登入
3. Google Sheets API權限問題

### 如果看到 `[object Object]`
**可能原因**:
1. 數據格式轉換問題（我們已修復）
2. 舊的未修復代碼仍在運行

### 如果數據格式不正確
**可能原因**:
1. 需要清理舊的測試數據
2. 數據轉換邏輯需要進一步調整

## 📝 請告訴我的信息

檢查您的Google Sheets後，請提供以下信息：

1. **基本結構**: 工作表是否存在？有多少列？列標題是什麼？

2. **數據概況**: 有多少行食物記錄？最舊和最新的記錄日期是什麼？

3. **數據品質**:
   - 食物名稱是否正確顯示？
   - 是否有任何 `[object Object]` 或異常顯示？
   - Medical Score 是否為數字？

4. **最新測試結果**:
   - 如果您剛才進行了食物添加測試，是否看到新記錄？
   - 新記錄的所有欄位是否正確？

5. **異常情況**: 是否有任何看起來不正常的數據？

## 🎯 修復驗證

根據我們的修復，您應該看到：
- ✅ 正確的食物名稱（不是 `[object Object]`）
- ✅ 完整的數據列（8個欄位都有值）
- ✅ 最新的時間戳記錄
- ✅ 沒有初始化錯誤造成的同步失敗

請將您看到的實際情況告訴我，我會幫您分析是否修復成功！